![](https://cdn.nlark.com/yuque/0/2025/png/50963326/1763644829355-250a0e2a-c970-41ec-bc47-1b1cd6649a83.png)

<h1 id="KSaNE">一、通过file://包含</h1>
:::info
1、条件：

(1) allow_url_fopen:off/on 都可以

(2) allow_url_include:off/on 都可以



2、作用：

用于访问本地文件系统，通常用于读取本地文件而不会收到allow_url_fopen和allow_url_include的影响

在include()/require()/include_once()/require_once()参数可控的情况下，如果导入非.php的文件，则人按照php语法进行解析，因为这个是include()函数决定的

:::



<h1 id="QOSxI">二、通过php://包含</h1>
:::info
1、条件：

(1) allow_url_fopen:off/on都可以

(2) allow_url_include:仅php://input、php://stdin php://memory php://temp 需要on

2、作用：

php://为协议有很多种的用法，常见的就是php://fifiter用于读取源代码，php://input用于执行php代码

:::



Php://filter参数详解:

该协议的参数会在该协议路径上进行传递，多个参数都可以在一个路径上传递。具体参考如下：

resource=<要过滤的数据流>				必须项。它指定了你要筛选过滤的数据流，

read=<读链的过滤器>					可选项。可以设定一个或多个过滤器名称，以管道符(*\

write=<写链的过滤器>					可选项。可以设定一个或多个过滤器名称，以管道符(\

<;两个链的筛选列表>		任何没有以 read=或 write=作前缀 的筛选器列表会视情况应用于读或写链





:::success
转换过滤器:

convert.base64-encode & convert.base64-decode

等同于base64 encode()和base64 decode()，base64编码解码

convert.quoted-printable-encode & convert.quoted-printable-decode

quoted-printable 字符串与 8-bit 字符串编码解码

:::



<h1 id="b3Ubf">三、通过Zip:// & zlib:// 协议包含</h1>
:::success
1、条件:

allow_url fopen:off/on都可以的

allow url incude :off/on都可以的

2、作用:

zip:// & zlib:// 均属于压缩流，可以访问压缩文件中的子文件，更重要的是不需要指定后缀名，可修改为任意后缀:jpg  png  gif xxx等等。

:::



<h1 id="lHoKr">四、phar://协议包含:</h1>
:::success
phar://协议与zip://类似，同样可以访问zip格式压缩包内容。

1、条件:

allow_url_fopen:off/on都可以的

allow_url include :off/on都可以的

:::

